╔══════════════════════════════════════════════════════════════╗
║         TSTR.SITE - AGENT PROTOCOL & PROJECT RULES          ║
║              Load This in Every Claude Session               ║
╚══════════════════════════════════════════════════════════════╝

## 🎯 PROJECT CONTEXT (Always Remember)

**Goal**: Create leanest multi-niche testing lab directory to start generating income fast

**Constraints**:
- ✅ Stay within FREE pricing tiers
- ✅ Build MVP first, improve with revenue
- ✅ Compounding strategies with moats
- ✅ Quick validation, dispose of bad ideas fast

**Target**: Underserved high-margin industries
- Oil & gas pipeline testing
- Pharma lab testing  
- Biotech testing
- Other specialist testing services

**Tech Stack**:
- Frontend: Astro + React (Netlify free tier)
- Backend: Google Cloud Functions (free tier)
- Database: Supabase (free tier)
- Scrapers: Python automation

**Current Status**: Backend deployed & automated, frontend ready to deploy

---

## 📋 MANDATORY AGENT PROTOCOL (Follow Every Session)

### **1. Read START_HERE.md first** (navigation)
   - Understand project structure
   - Know where to find information
   
### **2. Check PROJECT_STATUS.md** (current state)
   - What's deployed?
   - What's the cost?
   - Any blockers?
   
### **3. Review handoff_core.md** (last 100 lines for recent context)
   - What did previous agent do?
   - Any handoff notes?
   - Context for current session

### **4. Do work**
   - Build one feature at a time
   - Test systematically with checkpoints
   - Document as you go
   - Follow Pareto principle (80/20)

### **5. Update PROJECT_STATUS.md** (new state)
   - New deployment status
   - Updated costs
   - New issues/blockers
   - What changed?

### **6. Log session in handoff_core.md**
   - What was accomplished
   - Token usage
   - Handoff notes for next agent
   - Next actions identified

---

## 🚨 CRITICAL RULES (Never Break These)

1. **COSTS**: Always stay within free tiers
   - Track every cost change in PROJECT_STATUS.md
   - Alert user if approaching paid tier
   - Find cheaper alternatives

2. **TESTING**: Test before deploying
   - Systematic changes with rollback points
   - Validate on free tiers first
   - Document what works

3. **MVP FIRST**: Build minimal, ship fast
   - One feature at a time
   - Generate income first
   - Improve with revenue later

4. **DOCUMENTATION**: Single source of truth
   - PROJECT_STATUS.md = current state
   - handoff_core.md = session history
   - Update both after changes

5. **PARETO**: 20% effort for 80% value
   - Focus on high-impact tasks
   - Dispose of low-value ideas quickly
   - Validate assumptions fast

---

## 💡 USER PREFERENCES (Adapt Communication)

**User Profile**: Non-technical, AuDHD (ADHD + Autism)

**Communication Style**:
- ✅ Straightforward, terse, factual
- ✅ No fluff or unnecessary politeness
- ✅ Scientifically supported (causal studies)
- ✅ Good logic, avoid logical errors
- ✅ Critique bad ideas directly

**Decision Framework**:
- Use OODA loop (Observe, Orient, Decide, Act)
- Always apply Pareto principle (80/20)
- Build lean MVPs
- Validate quickly, pivot fast

**Development Approach**:
- Systematic changes with checkpoints
- Reversible changes only
- Build feature at a time in clean sessions
- Track progress in memory/docs

---

## 🛠️ AVAILABLE TOOLS

### **Claude Desktop** (Web/App)
- Full conversational interface
- Load documents: START_HERE, PROJECT_STATUS, DEPLOYMENT_READY_SUMMARY
- Desktop Commander for file operations

### **Claude Code CLI** (Terminal)
- Use for efficient file reading:
  ```bash
  cat PROJECT_STATUS.md | head -50
  cat handoff_core.md | tail -100
  ```
- Save tokens vs loading full docs

### **Google Cloud SDK**
- Check deployed functions
- View logs
- Trigger schedules

### **Gemini CLI**
- Use for simple tasks to save tokens
- Offload non-critical work

---

## 📊 TOKEN MANAGEMENT

**Budget**: 190K tokens per session

**Allocation**:
- Core docs: ~50K (26%)
- Responses: ~80K (42%)
- Reserve: ~40K (21%)
- Optional: ~20K (11%)

**Save Tokens**:
- Use CLI for file reading when possible
- Load only 3 core docs (not all 45)
- Use Gemini CLI for simple tasks
- Chunk large file operations (≤30 lines)

---

## ✅ SESSION CHECKLIST

**Before Starting**:
- [ ] Load START_HERE.md
- [ ] Load PROJECT_STATUS.md
- [ ] Load DEPLOYMENT_READY_SUMMARY.md
- [ ] Check handoff_core.md (last 100 lines)

**During Work**:
- [ ] One feature at a time
- [ ] Test systematically
- [ ] Track costs
- [ ] Document changes
- [ ] Follow Pareto principle

**Before Ending**:
- [ ] Update PROJECT_STATUS.md
- [ ] Log session in handoff_core.md
- [ ] Note token usage
- [ ] Identify next actions
- [ ] Handoff notes clear

---

## 🎯 CURRENT PROJECT STATE (Quick Reference)

**Status**: Backend deployed, frontend ready to deploy

**Deployed**:
- ✅ 3 Cloud Functions (scrapers + cleanup)
- ✅ Automated scheduling (every 3 days)
- ✅ Database operational (19 listings)
- ✅ URL validation (95% success)

**Pending**:
- ⏳ Deploy Astro website to Netlify
- ⏳ Setup auto-rebuild webhook
- ⏳ Connect custom domain (tstr.site)

**Cost**: $1.04/month ✅ (within free tier)

---

## 📞 QUICK COMMANDS (For User)

**Check status**:
> "What's the current state according to PROJECT_STATUS.md?"

**See next actions**:
> "What does DEPLOYMENT_READY_SUMMARY.md say we should do?"

**Understand costs**:
> "What are current monthly costs?"

**Before decisions**:
> "Any blockers in PROJECT_STATUS.md?"

---

## 🚀 BEST PRACTICES

1. **Read before acting** - Understand current state first
2. **Act systematically** - One change at a time
3. **Document after** - Update docs with changes
4. **Test thoroughly** - Validate before deploying
5. **Track costs** - Stay within free tiers
6. **Communicate clearly** - Terse, factual, actionable
7. **Critique bad ideas** - Don't waste time on low-value work
8. **Ship fast** - MVP first, improve with revenue

---

## ⚠️ WARNING SIGNS (Alert User)

- 🚨 Costs approaching paid tier
- 🚨 More than 1 feature being built at once
- 🚨 Changes without testing
- 🚨 Documentation falling behind
- 🚨 Logical errors in strategy
- 🚨 Low-value tasks consuming time

---

╔══════════════════════════════════════════════════════════════╗
║  LOAD THIS FILE: Every session in Claude Desktop "Files"    ║
║  REFERENCE: Project Directory document already loaded        ║
║  UPDATE: When core rules or status changes                   ║
╚══════════════════════════════════════════════════════════════╝

**File Version**: 1.0  
**Last Updated**: October 17, 2025  
**Effective**: All agents, all sessions  
**Precedence**: Overrides contradictory information in other docs
