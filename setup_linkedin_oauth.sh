#!/bin/bash
# LinkedIn OAuth Setup Script for TSTR.site
# This script helps configure LinkedIn OAuth for Supabase

echo "üîó LinkedIn OAuth Setup for TSTR.site"
echo "====================================="
echo ""

echo "üìã Prerequisites Checklist:"
echo "1. ‚úÖ LinkedIn Company Page: linkedin.com/company/tstr-hub"
echo "2. ‚¨ú LinkedIn Developer Account: https://developer.linkedin.com/"
echo "3. ‚¨ú LinkedIn App Created"
echo "4. ‚¨ú OAuth Credentials Configured"
echo "5. ‚¨ú Supabase Auth Provider Enabled"
echo ""

echo "üìù Step-by-Step Instructions:"
echo ""

echo "Step 1: Create LinkedIn Developer Account"
echo "----------------------------------------"
echo "‚Ä¢ Go to: https://developer.linkedin.com/"
echo "‚Ä¢ Sign in with your LinkedIn account"
echo "‚Ä¢ Click 'Create app'"
echo ""

echo "Step 2: Configure LinkedIn App"
echo "------------------------------"
echo "‚Ä¢ App name: TSTR.site"
echo "‚Ä¢ LinkedIn Page: linkedin.com/company/tstr-hub"
echo "‚Ä¢ App logo: Upload TSTR logo"
echo "‚Ä¢ Privacy policy URL: https://tstr.site/privacy"
echo "‚Ä¢ Terms of service URL: https://tstr.site/terms"
echo ""

echo "Step 3: Set OAuth Redirect URIs"
echo "-------------------------------"
echo "Add these redirect URIs in LinkedIn app settings:"
echo "‚Ä¢ https://tstr.site/auth/callback"
echo "‚Ä¢ http://localhost:4321/auth/callback (for development)"
echo ""

echo "Step 4: Get OAuth Credentials"
echo "----------------------------"
echo "From LinkedIn app dashboard, copy:"
echo "‚Ä¢ Client ID"
echo "‚Ä¢ Client Secret"
echo ""

echo "Step 5: Configure Supabase Auth"
echo "-------------------------------"
echo "1. Go to: https://supabase.com/dashboard/project/haimjeaetrsaauitrhfy/settings/auth"
echo "2. Scroll to 'Auth Providers'"
echo "3. Enable 'LinkedIn'"
echo "4. Enter Client ID and Client Secret"
echo "5. Set redirect URL: https://tstr.site/auth/callback"
echo ""

echo "Step 6: Update Environment Variables"
echo "------------------------------------"
echo "Add to .env file:"
echo "LINKEDIN_CLIENT_ID=your_client_id_here"
echo "LINKEDIN_CLIENT_SECRET=your_client_secret_here"
echo ""

echo "Step 7: Test OAuth Flow"
echo "-----------------------"
echo "1. Visit https://tstr.site/login"
echo "2. Click 'Continue with LinkedIn'"
echo "3. Complete LinkedIn authorization"
echo "4. Verify redirect to /account with user data"
echo ""

echo "üîß Current Status:"
echo "‚Ä¢ ‚úÖ Frontend OAuth buttons implemented"
echo "‚Ä¢ ‚úÖ Database schema ready"
echo "‚Ä¢ ‚úÖ API endpoints implemented"
echo "‚Ä¢ ‚¨ú LinkedIn app needs creation"
echo "‚Ä¢ ‚¨ú Supabase provider needs configuration"
echo "‚Ä¢ ‚¨ú Environment variables need setting"
echo ""

echo "üìû Need Help?"
echo "Contact: tstr.site1@gmail.com"
echo "Documentation: docs/active/LINKEDIN_OAUTH_IMPLEMENTATION_PLAN.md"